import{d as w,m as L,a as g,o as s,c,f as t,e as P,h as v,F as S,k as I,I as C,n as B,t as m,_ as k,r as x,z as V,A as E,g as M,w as q,T as D,B as R,y,u as F,C as O,D as $,E as U,p as G,i as j}from"./index-1c498e02.js";import{S as H}from"./SalesRibbon-44f305df.js";const J={class:"pagination-container"},K={class:"pagination"},Q={class:"pagination-item"},W=["disabled"],X={class:"pagination-item"},Y=["disabled"],Z={class:"pagination-item"},ee=["onClick","disabled","aria-label"],te={class:"pagination-item"},ae=["disabled"],se={class:"pagination-item"},ne=["disabled"],oe=w({__name:"Pagination",props:{maxVisibleButtons:{type:Number,required:!1,default:5},totalPages:{type:Number,required:!1},total:{type:Number,required:!0},perPage:{type:Number,required:!0,default:10},currentPage:{type:Number,required:!0,default:1}},emits:["pagechanged"],setup(o,{emit:r}){const e=o;L(()=>e.perPage,()=>{e.currentPage>a.value&&r("pagechanged",a.value)});const a=g(()=>Math.ceil(e.total/e.perPage)),l=g(()=>e.currentPage===1?1:e.currentPage===a.value?a.value-e.maxVisibleButtons+1:e.currentPage-1),d=g(()=>Math.min(l.value+e.maxVisibleButtons-1,a.value)),h=g(()=>{const p=[];for(let f=l.value;f<=d.value;f+=1)p.push({name:f,isDisabled:f===e.currentPage});return p}),u=g(()=>e.currentPage===1),i=g(()=>e.currentPage===a.value),_=()=>{r("pagechanged",1)},n=()=>{r("pagechanged",e.currentPage-1)},A=p=>{r("pagechanged",p)},N=()=>{r("pagechanged",e.currentPage+1)},T=()=>{r("pagechanged",a.value)},z=p=>e.currentPage===p;return(p,f)=>(s(),c("div",J,[t("ul",K,[t("li",Q,[t("button",{type:"button",onClick:_,disabled:u.value,"aria-label":"Allez a la premiere page"},[P(v(C),{class:"icon",icon:"carbon:page-first",width:"24",height:"24"})],8,W)]),t("li",X,[t("button",{type:"button",onClick:n,disabled:u.value,"aria-label":"Allez à la page précédente"},[P(v(C),{class:"icon",icon:"carbon:previous-filled",width:"24",height:"24"})],8,Y)]),(s(!0),c(S,null,I(h.value,b=>(s(),c("li",Z,[t("button",{class:B(["pagination-item-number",{active:z(b.name)}]),type:"button",onClick:Le=>A(b.name),disabled:b.isDisabled,"aria-label":`Allez a la page ${b.name}`},m(b.name),11,ee)]))),256)),t("li",te,[t("button",{type:"button",onClick:N,disabled:i.value,"aria-label":"Allez a la page suivante"},[P(v(C),{class:"icon",icon:"carbon:next-filled",width:"24",height:"24"})],8,ae)]),t("li",se,[t("button",{type:"button",onClick:T,disabled:i.value,"aria-label":"Allez a la derniere page"},[P(v(C),{class:"icon",icon:"carbon:page-last",width:"24",height:"24"})],8,ne)])])]))}});const le=k(oe,[["__scopeId","data-v-ded5b424"]]),ce={class:"selected-option"},re={key:0,class:"options"},ie=["onClick"],ue=w({__name:"PerPageSelect",emits:["update:itemsPerPage"],setup(o,{emit:r}){const e=x(10),a=x([{value:10,label:"10 items per page"},{value:25,label:"25 items per page"},{value:40,label:"40 items per page"}]),l=x(!1),d=u=>{e.value=u,r("update:itemsPerPage",u),l.value=!1},h=u=>{l.value&&(u.target.closest(".select-wrapper")||(l.value=!1))};return V(()=>{document.addEventListener("click",h)}),E(()=>{document.removeEventListener("click",h)}),(u,i)=>(s(),c("div",{class:"select-wrapper",onClick:i[0]||(i[0]=_=>l.value=!l.value)},[t("div",ce,[M(m(e.value)+" ITEMS PER PAGE ",1),t("div",{class:B(["arrow-down",{"arrow-up":l.value}])},null,2)]),P(D,{name:"fade"},{default:q(()=>[l.value?(s(),c("div",re,[(s(!0),c(S,null,I(a.value,_=>(s(),c("div",{class:"option",key:_.value,onClick:R(n=>d(_.value),["stop"])},m(_.label),9,ie))),128))])):y("",!0)]),_:1})]))}});const de=k(ue,[["__scopeId","data-v-3a937063"]]),_e={props:{fillColor:String}};const pe={class:"star"},ge={width:"50px",height:"50px",viewBox:"0 0 32 32"},ve=["fill"];function he(o,r,e,a,l,d){return s(),c("div",pe,[(s(),c("svg",ge,[t("path",{fill:e.fillColor,d:"M16 1.13l1.31 4.03h4.24l-3.43 2.49 1.31 4.03-3.43-2.5-3.43 2.5 1.31-4.03-3.43-2.49h4.24z"},null,8,ve)]))])}const Pe=k(_e,[["render",he],["__scopeId","data-v-0a4c50e4"]]),me={class:"star-rating"},fe={class:"stars"},be=w({__name:"StarRating",props:{rating:{type:Number,required:!0,default:0}},setup(o){const r=o,e=a=>a<=Math.round(r.rating)?"#fecf0a":"#c5cad4";return(a,l)=>(s(),c("div",me,[t("div",fe,[(s(),c(S,null,I(5,d=>P(Pe,{key:d,fillColor:e(d)},null,8,["fillColor"])),64)),t("p",null,m(o.rating),1)])]))}});const ye=k(be,[["__scopeId","data-v-fc6432a7"]]),ke=o=>(G("data-v-cd90ef16"),o=o(),j(),o),Ce={class:"products"},$e={class:"select-wrapper"},xe={class:"products-list"},we=["onClick"],Se=["src"],Ie={class:"product-info"},Ae={class:"product-name"},Be={class:"product-brand"},Ne=ke(()=>t("p",{class:"product-price"},null,-1)),Te=["onClick"],ze=w({__name:"ProductsList",props:{products:{type:Array,default:[]},sales:{type:Boolean,default:!1}},setup(o){const r=o,e=x(10),a=F(),l=O(),d=g(()=>a.currentPage),h=i=>{a.setCurrentPage(i),a.fetchProducts(),window.scrollTo(0,0)},u=i=>{e.value=i,a.setTotalPages(i),a.fetchProducts()};return(i,_)=>(s(),c("div",Ce,[t("div",$e,[o.sales?(s(),$(de,{key:0,class:"select",itemsPerPage:e.value,"onUpdate:itemsPerPage":u},null,8,["itemsPerPage"])):y("",!0)]),t("div",xe,[(s(!0),c(S,null,I(r.products,n=>(s(),c("div",{class:"products-list-item",key:n.id},[t("div",{onClick:A=>v(U).push(`/products/${n.id}`),class:"product-image"},[t("img",{src:n.image_link,alt:"product",style:{width:"100%"}},null,8,Se)],8,we),n.discount&&n.discount.percent>0?(s(),$(H,{key:0,product:n},null,8,["product"])):y("",!0),t("div",Ie,[t("p",Ae,m(n.name),1),t("p",Be,m(n.brand),1),Ne,n.rating?(s(),$(ye,{key:0,rating:n.rating},null,8,["rating"])):y("",!0)]),t("div",null,[t("button",{class:"add-to-cart-btn",onClick:A=>v(l).addProduct(n.id)},"ADD TO CART",8,Te)])]))),128))]),o.sales?(s(),$(le,{key:0,total:v(a).getTotalProducts,"per-page":e.value,"current-page":d.value,onPagechanged:_[0]||(_[0]=n=>h(n))},null,8,["total","per-page","current-page"])):y("",!0)]))}});const Me=k(ze,[["__scopeId","data-v-cd90ef16"]]);export{Me as P};
