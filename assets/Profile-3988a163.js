import{d as P,O as Q,o as a,c as k,f as e,h as v,t as m,M as W,_ as E,F as A,k as q,D as w,E as Z,p as H,i as Y,r as f,P as G,Q as L,N as z,j as J,e as h,n as B,I as b,y as M}from"./index-2bcc50d2.js";import{C as V}from"./CustomInput-51475002.js";const K={class:"container-product"},ee={class:"product-image"},se=["src"],te={class:"product-name"},oe={class:"product-price"},de={class:"product-quanity"},le=P({__name:"OrderedProduct",props:{product:{type:Object,required:!0}},async setup(d){let r,s;const _=d;async function o(l){return await W(l)}const c=([r,s]=Q(()=>{var l;return o((l=_.product)==null?void 0:l.productId)}),r=await r,s(),r);return(l,i)=>{var y,g;return a(),k("div",K,[e("div",ee,[e("img",{src:v(c).image_url},null,8,se)]),e("div",te,m(v(c).name),1),e("div",oe,m((y=_.product)==null?void 0:y.quantity)+"$",1),e("div",de,m((g=_.product)==null?void 0:g.quantity),1)])}}});const ae=E(le,[["__scopeId","data-v-4e127e21"]]),X=d=>(H("data-v-cf050ffa"),d=d(),Y(),d),re={class:"container"},ne={class:"order-header"},ce={class:"order-info"},ie={class:"order-info-item"},ue=X(()=>e("p",{class:"info-label"},"ORDER PLACED",-1)),_e={class:"order-info-item"},pe=X(()=>e("p",{class:"info-label"},"TOTAL",-1)),ve={class:"order-info-item"},me=X(()=>e("p",{class:"info-label"},"SHIP TO",-1)),he={class:"order-info-item"},ye={class:"info-label"},fe={class:"ordered-products"},ge=P({__name:"Order",props:{order:{type:Object,required:!0}},setup(d){const r=d,s=_=>{Z.push(`/products/${_}`)};return(_,o)=>{var c,l,i,y,g;return a(),k("div",re,[e("div",ne,[e("div",ce,[e("div",ie,[ue,e("p",null,m(new Date((c=r.order)==null?void 0:c.orderDate).toLocaleString()),1)]),e("div",_e,[pe,e("p",null,m((l=r.order)==null?void 0:l.total.toFixed(2))+" $",1)]),e("div",ve,[me,e("p",null,m((i=r.order)==null?void 0:i.shippingInfoStreet),1)]),e("div",he,[e("p",ye,"ORDER #"+m((y=r.order)==null?void 0:y.orderNumber),1)])])]),e("div",fe,[(a(!0),k(A,null,q((g=r.order)==null?void 0:g.orderItems,$=>(a(),w(ae,{key:$.productId,product:$,class:"item",onClick:u=>s($.productId)},null,8,["product","onClick"]))),128))])])}}});const $e=E(ge,[["__scopeId","data-v-cf050ffa"]]),Ce=d=>(H("data-v-b54fc5e6"),d=d(),Y(),d),be={class:"modal-overlay"},we={class:"modal-container"},ke={class:"modal-content"},Ve=Ce(()=>e("h1",null,"SEE ALL YOUR ORDERS BELOW",-1)),De=P({__name:"OrderHistory",emits:["close-modal"],setup(d,{emit:r}){const s=f(!1),_=()=>{s.value=!1,r("close-modal")},c=G().getOrders;return(l,i)=>(a(),w(L,{to:"body"},[e("div",be,[e("div",we,[e("div",{class:"modal-header"},[e("button",{onClick:_,class:"close-modal"},"×")]),e("div",ke,[Ve,(a(!0),k(A,null,q(v(c),y=>(a(),w($e,{order:y},null,8,["order"]))),256))])])])]))}});const Me=E(De,[["__scopeId","data-v-b54fc5e6"]]),Pe=d=>(H("data-v-03513f0c"),d=d(),Y(),d),Ee={class:"modal-overlay"},Oe={class:"modal-container"},xe={class:"modal-content"},Ae={class:"add-card-form"},Te={class:"form-group"},Ie=Pe(()=>e("label",{for:"cardType",class:"card-type-label"},"CARD TYPE :",-1)),Se={class:"card-icons"},Re={class:"form-group"},Ue={class:"form-group"},Ne={class:"form-group"},qe=P({__name:"PaymentMethods",emits:["close-modal"],setup(d,{emit:r}){const s=z(),_=s.GetUser,o=J({cardType:"",cardNumber:"",expiryDate:"",cvv:""}),c=f(!1),l=f(""),i=$=>{l.value=$,o.cardType=$},y=()=>{c.value=!1,r("close-modal")},g=()=>{const $={cardType:o.cardType,cardNumber:o.cardNumber,expiryDate:o.expiryDate,cvv:o.cvv};_.cards.push($),s.addCard($),o.cardType="",o.cardNumber="",o.expiryDate="",o.cvv="",y()};return($,u)=>(a(),w(L,{to:"body"},[e("div",Ee,[e("div",Oe,[e("div",{class:"modal-header"},[e("button",{onClick:y,class:"close-modal"},"×")]),e("div",xe,[e("div",Ae,[e("form",null,[e("div",Te,[Ie,e("div",Se,[h(v(b),{class:B([{selected:l.value==="Visa"},"visa"]),icon:"logos:visa",width:"40",height:"40",onClick:u[0]||(u[0]=C=>i("Visa"))},null,8,["class"]),h(v(b),{class:B([{selected:l.value==="MasterCard"},"mastercard"]),icon:"logos:mastercard",width:"40",height:"40",onClick:u[1]||(u[1]=C=>i("MasterCard"))},null,8,["class"]),h(v(b),{class:B([{selected:l.value==="PayPal"},"paypal"]),icon:"logos:paypal",width:"30",height:"30",onClick:u[2]||(u[2]=C=>i("PayPal"))},null,8,["class"])])]),e("div",Re,[h(V,{label:"CARD NUMBER :",type:"credit-card",required:"","min-length":"16",modelValue:o.cardNumber,"onUpdate:modelValue":u[3]||(u[3]=C=>o.cardNumber=C)},null,8,["modelValue"])]),e("div",Ue,[h(V,{label:"EXPIRY DATE :",type:"expiry-date",required:"","min-length":"8",modelValue:o.expiryDate,"onUpdate:modelValue":u[4]||(u[4]=C=>o.expiryDate=C),placeholder:"DD/MM/YY"},null,8,["modelValue"])]),e("div",Ne,[h(V,{label:"CVV :",type:"cvv",required:"","min-length":"3",modelValue:o.cvv,"onUpdate:modelValue":u[5]||(u[5]=C=>o.cvv=C),placeholder:"XXX"},null,8,["modelValue"])]),e("button",{onClick:g,type:"submit"},"ADD CARD")])])])])])]))}});const He=E(qe,[["__scopeId","data-v-03513f0c"]]),Ye={class:"modal-overlay"},Be={class:"modal-container"},Le={class:"modal-content"},ze={class:"add-address-form"},Xe={class:"form-group"},je={class:"form-group"},Fe={class:"form-group"},Ge={class:"form-group"},Qe={class:"form-group"},We=P({__name:"Address",props:{update:{type:Boolean,required:!1},address:{type:Object,required:!1}},emits:["close-modal"],setup(d,{emit:r}){var I,x,S,R,U,N;const s=d,_=z(),o=f(!1),c=f(s.update&&((I=s.address)==null?void 0:I.doorNumber)||""),l=f(s.update&&((x=s.address)==null?void 0:x.street)||""),i=f(s.update&&((S=s.address)==null?void 0:S.city)||""),y=f(s.update&&((R=s.address)==null?void 0:R.zipcode)||""),g=f(s.update&&((U=s.address)==null?void 0:U.country)||""),$=f(((N=s.address)==null?void 0:N._id)||""),u=f(s.update),C=()=>{o.value=!1,r("close-modal")},T=()=>{const D={doorNumber:c.value,street:l.value,city:i.value,zipcode:y.value,country:g.value};u.value?(D._id=$.value,_.updateAddress(D)):_.addAddress(D),C()};return(D,t)=>(a(),w(L,{to:"body"},[e("div",Ye,[e("div",Be,[e("div",{class:"modal-header"},[e("button",{onClick:C,class:"close-modal"},"×")]),e("div",Le,[e("div",ze,[e("div",null,[e("div",Xe,[h(V,{label:"STREET NUMBER :",type:"street-number",required:"","min-length":"1",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=p=>c.value=p)},null,8,["modelValue"])]),e("div",je,[h(V,{label:"STREET :",type:"street",required:"","min-length":"4",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=p=>l.value=p)},null,8,["modelValue"])]),e("div",Fe,[h(V,{label:"CITY :",type:"city",required:"","min-length":"4",modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=p=>i.value=p)},null,8,["modelValue"])]),e("div",Ge,[h(V,{label:"COUNTRY :",type:"country",required:"","min-length":"4",modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=p=>g.value=p)},null,8,["modelValue"])]),e("div",Qe,[h(V,{label:"ZIP CODE :",type:"zip-code",required:"","min-length":"5",modelValue:y.value,"onUpdate:modelValue":t[4]||(t[4]=p=>y.value=p)},null,8,["modelValue"])]),u.value?(a(),k("button",{key:0,onClick:T},"UPDATE")):(a(),k("button",{key:1,onClick:T},"SAVE"))])])])])])]))}});const F=E(We,[["__scopeId","data-v-ecfc3a97"]]),O=d=>(H("data-v-a2ea91e9"),d=d(),Y(),d),Ze={class:"text"},Je={class:"banner"},Ke={class:"containers"},es={class:"container"},ss={class:"header"},ts=O(()=>e("div",{class:"title"},"ORDER HISTORY",-1)),os=O(()=>e("p",{class:"details"},"View your orders below",-1)),ds={class:"container"},ls={class:"header"},as=O(()=>e("div",{class:"title"},"PAYMENT METHODS",-1)),rs=O(()=>e("p",{class:"details"},"View your payment methods below",-1)),ns={class:"card-container"},cs={class:"card-list"},is={class:"container"},us={class:"header"},_s=O(()=>e("div",{class:"title"},"ADDRESSES",-1)),ps=O(()=>e("p",{class:"details"},"View your addresses below",-1)),vs={class:"address-container"},ms={class:"address-list"},hs=P({__name:"Profile",setup(d){var D;const r=z(),s=r.GetUser,_=f(!1),o=f(!1),c=f(!1),l=f(),i=f(!1),y=G(),g=(D=r.GetUser)==null?void 0:D._id;y.fetchOrders(g||"");const $=()=>{_.value=!0},u=()=>{_.value=!1},C=()=>{o.value=!0},T=()=>{o.value=!1},I=()=>{c.value=!0,i.value=!1},x=()=>{c.value=!1},S=t=>{l.value={...t},c.value=!0,i.value=!0},R=async t=>{if(s.addresses&&t){const p=s.addresses.findIndex(n=>n._id===t);p!==-1&&s.addresses.splice(p,1),r.deleteAddress(t)}},U=t=>t&&t.length>=16?(t.substring(0,14),`${"*".repeat(14)}${t.substring(14)}`):"",N=t=>{if(s.cards&&t){const p=s.cards.findIndex(n=>n._id===t);p!==-1&&s.cards.splice(p,1),r.deleteCard(t)}};return(t,p)=>(a(),k(A,null,[e("div",Ze,[e("h1",Je,"Hello, "+m(v(s).firstName)+" !",1)]),e("div",Ke,[e("div",es,[e("div",ss,[ts,os,h(v(b),{class:"icon",icon:"solar:history-line-duotone",width:"60",height:"60"})]),_.value?(a(),w(Me,{key:0,onCloseModal:u})):M("",!0),e("div",{class:"orders",onClick:$},"Your orders >")]),e("div",ds,[e("div",ls,[as,rs,h(v(b),{class:"icon",icon:"fluent:payment-16-regular",width:"60",height:"60"})]),e("div",ns,[(a(!0),k(A,null,q(v(s).cards,n=>(a(),k("div",{class:"card",key:n._id},[e("div",cs,[e("p",null,"TYPE : "+m(n.cardType),1),e("p",null,"CARD NUMBER : "+m(U(n.cardNumber)),1),e("p",null,"EXPIRY DATE : "+m(new Date(n.expiryDate).toLocaleDateString()),1),e("p",null,"CVV : "+m(n.cvv),1),n._id?(a(),w(v(b),{key:0,class:"delete-card",icon:"fluent:delete-20-regular",onClick:j=>N(n._id)},null,8,["onClick"])):M("",!0)])]))),128))]),o.value?(a(),w(He,{key:0,onCloseModal:T})):M("",!0),h(v(b),{icon:"fluent:form-new-20-regular",width:"40",height:"40",class:"view",onClick:C})]),e("div",is,[e("div",us,[_s,ps,h(v(b),{class:"icon",icon:"iconamoon:home-light",width:"60",height:"60"})]),e("div",vs,[(a(!0),k(A,null,q(v(s).addresses,n=>(a(),k("div",{class:"address",key:n._id},[e("div",ms,[e("p",null,m(n.doorNumber)+", "+m(n.street),1),e("p",null,m(n.city),1),e("p",null,m(n.country)+", "+m(n.zipcode),1),c.value?(a(),w(F,{key:0,update:i.value,address:l.value,onCloseModal:x},null,8,["update","address"])):M("",!0),h(v(b),{class:"update-card",icon:"streamline:interface-edit-write-2-change-document-edit-modify-paper-pencil-write-writing",width:"15",onClick:j=>S(n)},null,8,["onClick"]),n._id?(a(),w(v(b),{key:1,class:"del-card",icon:"fluent:delete-20-regular",width:"18",onClick:j=>R(n._id)},null,8,["onClick"])):M("",!0)])]))),128))]),c.value?(a(),w(F,{key:0,update:i.value,address:l.value,onCloseModal:x},null,8,["update","address"])):M("",!0),h(v(b),{icon:"fluent:form-new-20-regular",width:"40",height:"40",class:"view2",onClick:I})])])],64))}});const gs=E(hs,[["__scopeId","data-v-a2ea91e9"]]);export{gs as default};
